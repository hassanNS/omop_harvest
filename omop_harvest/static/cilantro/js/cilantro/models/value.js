define(["underscore","backbone","../structs","../constants"],function(t,e,i,n){var s=e.Model.extend({idAttribute:"label",defaults:{valid:null,pending:!1},fetch:function(){},toJSON:function(t){return t&&t.flat?this.pluck("value"):this.pick("value","label")},destroy:function(t){this.trigger("destroy",this,this.collection,t)}}),o=e.Collection.extend({model:s,options:{check:!0},initialize:function(e,i){i=t.extend({},this.options,i||{}),i.check&&this.on("add",t.debounce(this.check,n.INPUT_DELAY))},fetch:function(){},create:function(t,e){this.add(t,e)},check:function(){var i=this.where({valid:null,pending:!1});if(i.length){t.each(i,function(t){t.set("pending",!0)});var n=this;e.ajax({url:this.url(),type:"POST",data:JSON.stringify(i),contentType:"application/json",success:function(t){n.set(t,{add:!1,remove:!1})},complete:function(){t.each(i,function(t){t.set("pending",!1)})}})}}});return{Value:s,Values:o}});
//@ sourceMappingURL=value.js.map