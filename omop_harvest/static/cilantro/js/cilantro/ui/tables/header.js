var __hasProp={}.hasOwnProperty,__extends=function(e,t){function i(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};define(["underscore","marionette","./row"],function(e,t,i){var n,o,s,r,a;return o=function(t){function i(e){if(null==e.view)throw new Error("ViewModel instance required");this.view=e.view,delete e.view,i.__super__.constructor.call(this,e)}return __extends(i,t),i.prototype.tagName="th",i.prototype.onClick=function(){return e.each(this.view.facets.models,function(e){var t;return e.get("concept")===this.model.id?(t=e.get("sort"),null!=t?"asc"===t.toLowerCase()?(e.set("sort","desc"),e.set("sort_index",0)):(e.unset("sort"),e.unset("sort_index")):(e.set("sort","asc"),e.set("sort_index",0))):(e.unset("sort"),e.unset("sort_index"))},this),this.view.save()},i.prototype.initialize=function(){return this.listenTo(this.model,"change:visible",this.toggleVisible)},i.prototype.events={click:"onClick"},i.prototype.getSortIconClass=function(){var t,i,n=this;if(i=e.find(this.view.facets.models,function(e){return n.model.id===e.get("concept")}),null!=i)switch(t=(i.get("sort")||"").toLowerCase()){case"asc":return"icon-sort-up";case"desc":return"icon-sort-down";default:return"icon-sort"}},i.prototype.render=function(){var e;return this.toggleVisible(),e=this.getSortIconClass(),this.$el.html("<span>"+this.model.get("name")+" <i class="+e+"></i></span>"),this.$el.attr("title",this.model.get("name")),this},i.prototype.toggleVisible=function(){return this.$el.toggle(this.model.get("visible"))},i}(t.ItemView),s=function(e){function t(){return r=t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.itemView=o,t}(i.Row),n=function(t){function n(){return a=n.__super__.constructor.apply(this,arguments)}return __extends(n,t),n.prototype.tagName="thead",n.prototype.render=function(){return i=new s(e.extend({},this.options,{collection:this.collection})),this.$el.html(i.el),i.render(),this},n}(t.ItemView),{Header:n}});
//@ sourceMappingURL=header.js.map