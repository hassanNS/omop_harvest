define(["underscore","marionette","./layout"],function(t,e,i){var n=e.Layout.extend({className:"columns-modal modal hide full",template:"concept/columns/dialog",events:{"click [data-save]":"save","click [data-dismiss]":"cancel"},ui:{error:"[data-target=error]"},regions:{body:".concept-columns-region"},regionViews:{body:i.ConceptColumnsLayout},initialize:function(){if(this.data={},!(this.data.view=this.options.view))throw new Error("view required");if(!(this.data.concepts=this.options.concepts))throw new Error("concepts collection required")},onRender:function(){this.$el.modal({show:!1,keyboard:!1,backdrop:"static"}),this.columns=new this.regionViews.body({view:this.data.view,concepts:this.data.concepts}),this.body.show(this.columns)},cancel:function(){var e=this;t.delay(function(){e.columns.resetSelected()},25)},save:function(){this.ui.error.hide();var t=this.columns.selectedToFacets();return 0===t.length?(this.ui.error.html("<p>You must select one or more columns.</p>").show(),void 0):(this.data.view.facets.reset(t),this.data.view.save(),this.close(),void 0)},open:function(){this.ui.error.hide(),this.$el.modal("show")},close:function(){this.$el.modal("hide")}});return{ConceptColumnsDialog:n}});
//@ sourceMappingURL=dialog.js.map