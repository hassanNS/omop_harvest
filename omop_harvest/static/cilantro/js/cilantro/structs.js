var __hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var n in e)__hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},__bind=function(t,e){return function(){return t.apply(e,arguments)}};define(["underscore","backbone","./models/base"],function(t,e,i){var n,s,o,r,a,h,l,u,c,d;return r=function(t){function e(){return c=e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.defaults={visible:!0},e.prototype.show=function(){return this.set({visible:!0})},e.prototype.hide=function(){return this.set({visible:!1})},e}(e.Model),a=function(t){function e(){return d=e.__super__.constructor.apply(this,arguments)}return __extends(e,t),e.prototype.model=r,e}(e.Collection),n=function(t){function e(t,i,n){i instanceof r||(i=new r(i)),this.index=i,e.__super__.constructor.call(this,t,n)}return __extends(e,t),e.prototype.size=function(){return 1},e.prototype.width=function(){return 1},e}(e.Model),l=function(e){function i(t,e,n){this.model=__bind(this.model,this),this.indexes=e,i.__super__.constructor.call(this,t,n)}return __extends(i,e),i.prototype.model=function(e){var i;return i=this.indexes.at(t.keys(this._byId).length),new n({value:e},i)},i}(e.Collection),h=function(e){function i(e,n,s){var o;null==s&&(s={}),n instanceof a||(n=new a(n)),this.indexes=n,t.isArray(e)?(o=e,e=null):s.parse=!0,this.data=new l(o,n),i.__super__.constructor.call(this,e,s)}return __extends(i,e),i.prototype.parse=function(t,e){return this.data.reset(t.values,e),delete t.values,t},i.prototype.isColumn=function(){return 1===this.width()},i.prototype.isRow=function(){return!this.isColumn()},i.prototype.size=function(){return this.isColumn()?this.data.length:1},i.prototype.width=function(){return this.indexes.length},i}(e.Model),u=function(t){function e(t,i,n){this.model=__bind(this.model,this),this.indexes=i,e.__super__.constructor.call(this,t,n)}return __extends(e,t),e.prototype.model=function(t,e){return new h(t,this.indexes,e)},e}(e.Collection),s=function(e){function i(e,n,s){var o;null==s&&(s={}),n instanceof a||(n=new a(n)),this.indexes=n,t.isArray(e)?(o=e,e=null):s.parse=!0,this.series=new u(o,n),i.__super__.constructor.call(this,e,s)}return __extends(i,e),i.prototype.parse=function(t,e){return i.__super__.parse.call(this,t,e),this.indexes.reset(t.keys,e),this.series.reset(t.objects,e),delete t.keys,delete t.objects,t},i.prototype.size=function(){return this.series.length},i.prototype.width=function(){return this.indexes.length},i.prototype.column=function(t){var e;return e=this.series.map(function(e){return e.data.at(t)}),new h(e,this.indexes.at(t))},i}(i.Model),o=function(t){function e(t,i){this.indexes=new a,this.on("reset",function(t){var e;return(e=t.models[0])?this.indexes.reset(e.indexes.models):void 0}),this.on("add",function(t,e){return 1===e.length?this.indexes.reset(t.indexes.models):void 0}),e.__super__.constructor.call(this,t,i)}return __extends(e,t),e.prototype.model=s,e}(i.Collection),{FrameArray:o,Frame:s,Series:h,Datum:n,Index:r,Indexes:a}});
//@ sourceMappingURL=structs.js.map