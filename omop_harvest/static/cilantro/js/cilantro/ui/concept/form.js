define(["jquery","underscore","marionette","../../core","../field","../charts","./info"],function(t,e,i,n,s,o,r){var a=i.Layout.extend({className:"concept-form",template:"concept/form",options:{condense:!1,linksMinFields:2},events:{"click [data-target=links] a":"jumpToField"},regions:{info:".info-region",links:".links-region",fields:".fields-region"},regionViews:{info:r.ConceptInfo,links:s.FieldLinkCollection,fields:s.FieldFormCollection},constructor:function(t){if(t=t||{},!t.model)throw new Error("concept model required");i.Layout.prototype.constructor.call(this,t)},initialize:function(){if(this.data={},!(this.data.context=this.options.context))throw new Error("context required")},onRender:function(){var t=new this.regionViews.info({model:this.model}),i=new s.FieldFormCollection(e.defaults({context:this.data.context,concept:this.model,collection:this.model.fields},this.options));this.info.show(t),this.fields.show(i);var n=this.options.linksMinFields;n!==!1&&(0===this.model.fields.length?this.listenToOnce(this.model.fields,"reset",function(t){t.length>=n&&this._renderLinks()}):this.model.fields.length>this.options.linksMinFields&&this._renderLinks())},_renderLinks:function(){var t=new this.regionViews.links({concept:this.model,collection:this.model.fields});this.links.show(t)},jumpToField:function(e){e.preventDefault();var i=t(e.target.hash).offset().top-20;t("html,body").animate({scrollTop:i})}});return{ConceptForm:a}});
//@ sourceMappingURL=form.js.map